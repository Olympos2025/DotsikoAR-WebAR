# MapLens - WebAR KML Viewer

Το **MapLens** είναι μια εφαρμογή Web Augmented Reality που επιτρέπει την προβολή γεωγραφικών δεδομένων από αρχεία KML στον πραγματικό κόσμο μέσω της κάμερας μιας κινητής συσκευής. Ο χρήστης μπορεί να φορτώσει ένα ή περισσότερα αρχεία KML και να δει σημεία, γραμμές και πολυγωνικές περιοχές να προβάλλονται στο περιβάλλον γύρω του, στις σωστές γεωγραφικές συντεταγμένες.

## Χαρακτηριστικά
- **Πολλαπλά KML Layers:** Φόρτωση πολλαπλών αρχείων KML ταυτόχρονα, με διαφορετικά στρώματα δεδομένων (π.χ. σημεία ενδιαφέροντος, διαδρομές, όρια περιοχών):contentReference[oaicite:19]{index=19}.
- **Υποστήριξη Γεωμετρίας:** Προβολή σημείων (Point), γραμμών (LineString) και πολυγώνων (Polygon) από το KML. Τα σημεία εμφανίζονται ως σφαίρες, οι γραμμές ως κόκκινα μονοπάτια και οι περιοχές ως ημιδιαφανή πολύγωνα με περίγραμμα:contentReference[oaicite:20]{index=20}.
- **Location-Based AR:** Χρήση GPS, πυξίδας και αισθητήρων της συσκευής για ακριβή τοποθέτηση των KML αντικειμένων. Υποστήριξη υψομέτρου για 3D απεικόνιση υψογραφικών δεδομένων (τα αντικείμενα εμφανίζονται με σωστή σχετική ανύψωση).
- **Φιλτράρισμα Απόστασης/Κατεύθυνσης:** Τα μακρινά αντικείμενα (>20km) και εκείνα εκτός οπτικού πεδίου (~±10°) δεν αποδίδονται, ώστε η εμπειρία να εστιάζει στα σχετικά κοντινά σημεία και να διατηρείται η απόδοση:contentReference[oaicite:21]{index=21}.
- **Επιδόσεις & LOD:** Αυτόματη απλοποίηση πολύπλοκων γεωμετριών (πολυγώνων με πολλούς κόμβους, μεγάλων γραμμών) για ομαλή απόδοση. Χρήση αλγορίθμου υποδειγματοληψίας σημείων για μείωση πολυπλοκότητας χωρίς εμφανή απώλεια λεπτομέρειας.
- **Διαδραστικό UI:** Μοντέρνα διεπαφή σχεδιασμένη για mobile (mobile-first). Χρησιμοποιεί **Glassmorphic** ημιδιαφανή panels και **Neomorphic** κουμπιά για αισθητική 2025:contentReference[oaicite:22]{index=22}:contentReference[oaicite:23]{index=23}. Εικονίδια ενημερώνουν σε πραγματικό χρόνο για την κατάσταση της κάμερας και του GPS.
- **Πληροφορίες on Tap:** Πατώντας σε οποιοδήποτε αντικείμενο AR, εμφανίζεται κάρτα πληροφοριών με το όνομα και την περιγραφή του (όπως ορίζεται στο KML, π.χ. όνομα τοποθεσίας, υψόμετρο, περιγραφή).
- **Συμβατότητα:** Λειτουργεί σε σύγχρονους mobile browsers (Android Chrome, Safari iOS) – απαιτείται HTTPS σύνδεση για πρόσβαση σε κάμερα/GPS. Έχει προβλεφθεί ειδικός μηχανισμός για Safari/iOS ώστε να ζητά άδεια κίνησης συσκευής (Device Orientation) σύμφωνα με τις προδιαγραφές του iOS.

## Οδηγίες Χρήσης
1. **Άνοιγμα Εφαρμογής:** Μεταβείτε στη σελίδα της εφαρμογής (π.χ. μέσω GitHub Pages σε HTTPS). Θα σας ζητηθεί να δώσετε άδεια για χρήση **κάμερας** και **τοποθεσίας** – επιλέξτε *“Allow”* και για τα δύο.
2. **Ενεργοποίηση Πυξίδας (iOS):** Αν χρησιμοποιείτε Safari σε iPhone/iPad, πατήστε το κουμπί *«Ενεργοποίηση Προσανατολισμού»* που θα εμφανιστεί κεντρικά, ώστε να επιτρέψετε τη χρήση των αισθητήρων κίνησης:contentReference[oaicite:25]{index=25}. (Το βήμα αυτό δεν απαιτείται σε Android/Chrome).
3. **Φόρτωση KML:** Πατήστε στο κουμπί *«Επιλογή KML»* και επιλέξτε ένα ή περισσότερα `.kml` αρχεία από τη συσκευή σας. Τα αρχεία θα φορτωθούν και θα εμφανιστούν τα αντίστοιχα δεδομένα AR στην οθόνη.
4. **Προβολή Δεδομένων:** Στρέψτε την κάμερα γύρω σας. Τα στοιχεία του KML θα εμφανίζονται στις πραγματικές τους τοποθεσίες. Για παράδειγμα, αν το KML περιέχει την κορυφή ενός βουνού, κοιτώντας προς το βουνό θα δείτε ένα στίγμα/μοντέλο στη θέση της κορυφής.
5. **Αλληλεπίδραση:** Πατήστε πάνω σε ένα εικονικό αντικείμενο (σφαίρα, γραμμή ή περιοχή) για να δείτε πληροφορίες. Θα εμφανιστεί ένα πλαίσιο στο κάτω μέρος με το όνομα και την περιγραφή όπως αυτά περιγράφονται στο KML.
6. **Αφαίρεση Δεδομένων:** Για να καθαρίσετε την οθόνη από τα φορτωμένα δεδομένα, πατήστε *«Καθαρισμός»*. Όλα τα στοιχεία θα διαγραφούν, αλλά μπορείτε να φορτώσετε ξανά ή να επιλέξετε άλλα αρχεία με το ίδιο κουμπί *«Επιλογή KML»*.

## Τεχνολογίες & Εξαρτήσεις
- **A-Frame 1.3.0:** Framework για την ανάπτυξη VR/AR web εφαρμογών. Χρησιμοποιείται για ορισμό της 3D σκηνής και των entities.
- **AR.js 3.4.5:** Βιβλιοθήκη AR για web – χρησιμοποιείται το location-based module για γεωχωρικό AR (GPS, compass).
- **Three.js:** Χρησιμοποιείται εσωτερικά από το A-Frame/AR.js και απευθείας στο code μας για δημιουργία γεωμετρικών σχημάτων (γραμμών, πολυγώνων).
- **mapbox/togeojson 0.16:** Βιβλιοθήκη μετατροπής KML σε GeoJSON. Απαλλάσσει από χαμηλού επιπέδου parsing και μας δίνει έτοιμα GeoJSON features να επεξεργαστούμε.
- **Browser APIs:** HTML5 Geolocation API, DeviceOrientation API (για πυξίδα), DeviceMotion (iOS), File API (φόρτωση αρχείων), Permissions API – όλα συνδυάζονται για να προσφέρουν την εμπειρία επαυξημένης πραγματικότητας μέσω web.

## Ανάπτυξη (Deploy) σε GitHub Pages
Το project αποτελείται αποκλειστικά από static files (HTML, CSS, JS), οπότε μπορεί εύκολα να αναπτυχθεί σε πλατφόρμα όπως το **GitHub Pages**. Βεβαιωθείτε ότι το repository είναι public και ενεργοποιήστε το Pages (στο branch `gh-pages` ή το `docs/` folder του main branch). Μετά το deploy, η εφαρμογή θα είναι προσβάσιμη σε ασφαλή διεύθυνση HTTPS (απαραίτητο για λειτουργία κάμερας/GPS). 

Δεν απαιτείται κανένας ειδικός backend server – όλα φορτώνουν στο browser του χρήστη. Φροντίστε μόνο:
- Να συμπεριλάβετε όλα τα αρχεία του project (όπως περιγράφονται παραπάνω).
- **HTTPS:** Αν φιλοξενήσετε εκτός GitHub, βεβαιωθείτε ότι χρησιμοποιείται πιστοποιητικό SSL. Οι περισσότεροι mobile browsers αποκλείουν πρόσβαση σε κάμερα/γεωεντοπισμό αν η σελίδα δεν είναι υπό HTTPS σύνδεση για λόγους ασφαλείας.
- **iOS Permissions:** Επικοινωνήστε στους χρήστες iOS ότι πρέπει να πατήσουν το κουμπί άδειας προσανατολισμού – η εφαρμογή εμφανίζει ήδη το σχετικό μήνυμα, αλλά είναι καλό να υπάρχει και στις οδηγίες χρήσης (όπως παραπάνω).

Με την ολοκλήρωση αυτών των βημάτων, το **MapLens WebAR** θα είναι έτοιμο προς χρήση από οποιονδήποτε μέσω του browser, χωρίς την ανάγκη εγκατάστασης native εφαρμογής. Απλώς μοιραστείτε το URL του GitHub Pages και δοκιμάστε το σε εξωτερικό χώρο για βέλτιστο αποτέλεσμα. Καλή εξερεύνηση επαυξημένης πραγματικότητας!
