<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapLens - WebAR KML Viewer</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mapbox/togeojson@2.1.0/dist/toGeoJSON.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Πληροφορίες στοιχείου -->
    <div id="info-panel" class="info-panel">
        <h3 id="info-title"></h3>
        <div id="info-content"></div>
        <button onclick="hideInfo()">Κλείσιμο</button>
    </div>

    <!-- Controls -->
    <input type="file" id="file-input" accept=".kml" multiple>
    <div class="controls">
        <button id="clear-btn" class="btn">Καθαρισμός</button>
        <button id="refresh-btn" class="btn">Ανανέωση</button>
    </div>

    <!-- AR Scene -->
    <a-scene 
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; debugUIEnabled: false"
        renderer="logarithmicDepthBuffer: true;"
        id="scene">
        
        <a-camera gps-new-camera="minDistance: 20; maxDistance: 20000;"></a-camera>
        <a-entity id="ar-container"></a-entity>
    </a-scene>

    <script src="kml-parser.js"></script>
    <script src="ar-manager.js"></script>
    
    <script>
        // Global μεταβλητές
        let currentFeatures = [];

        // Συναρτήσεις πληροφοριών
        function showInfo(title, content) {
            const panel = document.getElementById('info-panel');
            panel.style.display = 'block';
            document.getElementById('info-title').textContent = title;
            document.getElementById('info-content').innerHTML = content;
        }

        function hideInfo() {
            document.getElementById('info-panel').style.display = 'none';
        }
    </script>
</body>
</html>
